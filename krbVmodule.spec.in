%define pyver 2.2

Summary: Python extension module for Kerberos 5
Name: krbV-python%{pyver}
Version: @VERSION@
Release: 1
Copyright: LGPL
Group: Development/Languages
Source: krbVmodule-%{version}.tar.gz
Buildroot: /var/tmp/krb5module-root
Requires: python2 >= %{pyver}
BuildRequires: python2-devel >= %{pyver}
BuildRequires: krb5-devel >= 1.2.2
Requires: krb5-libs >= 1.2.2
BuildRequires: /bin/awk

%description
Allows python programs to use Kerberos 5 authentication/security.

%prep
%setup -q -n krbVmodule-%{version}

%build
export LIBNAME=%{_lib}
%configure
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
mkdir -p $RPM_BUILD_ROOT/%{_libdir}/python%{pyver}/site-packages
%makeinstall
rm -f $RPM_BUILD_ROOT/%{_libdir}/python%{pyver}/site-packages/*.la

rm -f $RPM_BUILD_ROOT/%{_libdir}/python%{pyver}/site-packages/*.la

%clean
rm -rf $RPM_BUILD_ROOT

%files
%doc README
%{_libdir}/python%{pyver}/site-packages/krbVmodule.so

%changelog
* Tue Sep 25 2001 Elliot Lee <sopwith@redhat.com>
- Initial version
